<div class="mt-2">
    <p-card>

        <app-agregar-producto *ngIf="tiendaService.agregarProducto"></app-agregar-producto>
        <app-editar-producto *ngIf="tiendaService.editarProducto"></app-editar-producto>

        <div *ngIf="!tiendaService.agregarProducto && !tiendaService.editarProducto">
            <div class="row">
                <div class="col-3">
                    <button type="button" 
                            class="p-button-success mb-2" 
                            pButton pRipple 
                            (click)="tiendaService.agregarProducto = true"
                            label="Agregar producto" 
                            icon="pi pi-plus"></button>
                </div>
                <div class="col-6">
                    <span class="p-input-icon-left mb-2">
                        <i class="pi pi-search"></i>
                        <input type="text" pInputText placeholder="Buscar producto ..." [(ngModel)]="busqueda" />
                    </span>
                </div>
            </div>
    
            <p-table
                     [value]="filtrarProductos()" 
                     [rows]="4"
                     [paginator]="true"
                     [tableStyle]="{ 'min-width': '50rem' }">
                
                <ng-template pTemplate="header">
                    <tr>
                        <th>Id</th>
                        <th>Titulo</th>
                        <th>Descripcion</th>
                        <th>Precio</th>
                        <th style="width: 5rem"></th>
                        <th style="width: 5rem"></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-producto>
                    <tr>
                        <td>{{producto.id}}</td>
                        <td>{{producto.titulo}}</td>
                        <td>{{producto.descripcion}}</td>
                        <td>{{producto.precio}}</td>
                        <td>
                            <button type="button" 
                                    class="p-button-warning" 
                                    pButton pRipple 
                                    label="Editar" 
                                    (click)="editarProducto(producto.id)"
                                    icon="pi pi-pencil"></button>
                        </td>
                        <td>
                            <button type="button" 
                                    class="p-button-danger" 
                                    pButton pRipple 
                                    label="Borrar" 
                                    (click)="borrarProducto(producto.id)"
                                    icon="pi pi-trash"></button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </p-card>
</div>
